(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5075)}])},3347:function(n,e,t){"use strict";t.d(e,{IU:function(){return r},x4:function(){return o},$8:function(){return i}});var r=function(n){return fetch("".concat("https://jbnpl-server.ue.r.appspot.com","/signup"),{method:"POST",headers:{Accept:'application/json"',"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},o=function(n){return fetch("".concat("https://jbnpl-server.ue.r.appspot.com","/login"),{method:"POST",headers:{Accept:'application/json"',"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return console.log(n)}))},i=function(){var n=localStorage.getItem("jwt");return!!n&&JSON.parse(n)}},5075:function(n,e,t){"use strict";t.r(e);var r=t(5893),o=t(7294),i=t(1163),a=t(9661),c=t(3321),u=t(6720),s=t(2008),l=t(122),p=t(5113),m=t(7357),d=t(6886),f=t(5861),h=t(8239),g=t(1927),x=t(3347),j=t(461);function y(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,o=!1,i=void 0;try{for(var a,c=n[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!e||t.length!==e);r=!0);}catch(u){o=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function v(n){return(0,r.jsxs)(f.Z,function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){y(n,e,t[e])}))}return n}({variant:"body2",color:"text.secondary",align:"center"},n,{children:["Copyright \xa9 ",(0,r.jsx)(l.Z,{color:"inherit",href:"https://mui.com/",children:"BNPL"})," ",(new Date).getFullYear(),"."]}))}var w=(0,h.Z)();e.default=function(){var n=(0,i.useRouter)(),e=b(o.useState(""),2),t=(e[0],e[1]),h=b((0,j.Z)(["jwt"]),3),y=(h[0],h[1]);h[2];return(0,r.jsx)(g.Z,{theme:w,children:(0,r.jsxs)(d.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,r.jsx)(u.ZP,{}),(0,r.jsx)(d.ZP,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(n){return"light"===n.palette.mode?n.palette.grey[50]:n.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:8,md:5,component:p.Z,elevation:6,square:!0,children:(0,r.jsxs)(m.Z,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(a.Z,{sx:{m:1,bgcolor:"secondary.main"}}),(0,r.jsx)(f.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,r.jsxs)(m.Z,{component:"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var r=new FormData(e.currentTarget),o=r.get("email"),i=r.get("password");(0,x.x4)({name:null,email:o,password:i}).then((function(e){e.error?t(e.error):(y("jwt",JSON.stringify(e),{path:"/",maxAge:3600,sameSite:!0}),n.push("/home"))}))},sx:{mt:1},children:[(0,r.jsx)(s.Z,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,r.jsx)(s.Z,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,r.jsx)(c.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),(0,r.jsx)(d.ZP,{container:!0,children:(0,r.jsx)(d.ZP,{item:!0,children:(0,r.jsx)(l.Z,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})}),(0,r.jsx)(v,{sx:{mt:5}})]})]})})]})})}}},function(n){n.O(0,[75,31,582,774,888,179],(function(){return e=5301,n(n.s=e);var e}));var e=n.O();_N_E=e}]);